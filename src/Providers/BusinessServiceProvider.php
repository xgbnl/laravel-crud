<?php

namespace Xgbnl\Business\Providers;

use Illuminate\Support\ServiceProvider;
use Xgbnl\Business\Commands\InstallCommand;
use Xgbnl\Business\Commands\MakeCacheCommand;
use Xgbnl\Business\Commands\MakeObserverCommand;
use Xgbnl\Business\Commands\MakeRepositoryCommand;
use Xgbnl\Business\Commands\MakeServiceCommand;

class BusinessServiceProvider extends ServiceProvider
{
    protected array $commands = [
        InstallCommand::class,
        MakeCacheCommand::class,
        MakeRepositoryCommand::class,
        MakeServiceCommand::class,
        MakeObserverCommand::class,
    ];

    public function boot(): void
    {
        $this->installCommand($this->commands);
    }

    // Install BaseController
    protected function installCommand(array $commands): void
    {
        $this->publishes([dirname(__DIR__) . '/Commands/Stubs/BaseController.stub' => app_path('Http/Controllers/BaseController.php')]);
        $this->commands($commands);
    }

    public function provides(): array
    {
        return ['business-helper']; // TODO: Change the autogenerated stub
    }
}
